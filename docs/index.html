<!DOCTYPE html>
<html lang="en">
  <head>
    <title>EasyInject  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="EasyInject  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          EasyInject Docs
        </a>
         (99% documented)
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/vknabel/EasyInject">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fvknabel%2Egithub%2Eio%2FEasyInject%2Fdocsets%2FEasyInject%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">EasyInject Reference</a>
      <img class="carat" src="img/carat.png" />
      EasyInject  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="1-overview.html">1. Overview</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="changelog.html">CHANGELOG</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="license.html">LICENSE</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GlobalInjector.html">GlobalInjector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/LazilyInjectedProvider.html">LazilyInjectedProvider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ComposedInjectionError.html">ComposedInjectionError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/InjectedProviderResolveState.html">InjectedProviderResolveState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/InjectionError.html">InjectionError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/InjectedProvider.html">InjectedProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Injector.html">Injector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/InjectorDerivingFromMutableInjector.html">InjectorDerivingFromMutableInjector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MutableInjector.html">MutableInjector</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AnyInjector.html">AnyInjector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ComposedInjector.html">ComposedInjector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/GenericProvidableKey.html">GenericProvidableKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/LazyInjector.html">LazyInjector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Provider.html">Provider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/StrictInjector.html">StrictInjector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/StrictlyInjectedProvider.html">StrictlyInjectedProvider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:10EasyInject10Providable">Providable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:10EasyInject13ProvidableKey">ProvidableKey</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <p><a href=""><img src="https://img.shields.io/cocoapods/v/EasyInject.svg?maxAge=2592000&amp;style=flat-square" alt="CocoaPods"></a>
<a href=""><img src="https://img.shields.io/cocoapods/p/EasyInject.svg?maxAge=2592000&amp;style=flat-square" alt="CocoaPods"></a>
<a href=""><img src="https://img.shields.io/badge/install-SwiftPM%20%7C%20Carthage%20%7C%20Cocoapods-lightgrey.svg?style=flat-square" alt="Install"></a>
<a href=""><img src="https://img.shields.io/cocoapods/l/EasyInject.svg?maxAge=2592000&amp;style=flat-square" alt="License"></a></p>
<a href='#easyinject' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='easyinject'>EasyInject</h1>

<p>EasyInject is designed to be an easy to use, lightweight composition and dependency injection library.
Instead of injecting instances for specific types, you provide instances for keys, without losing any type information. This enables its <code>Injector</code>s to be used as a composable, dynamic and typesafe data structure. It may be comparable with a Dictionary that may contain several types, without losing type safety.</p>

<p>Check out the generated docs at <a href="https://vknabel.github.io/EasyInject/">vknabel.github.io/EasyInject</a>.</p>
<a href='#installation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='installation'>Installation</h2>

<p>EasyInject is a Swift only project and supports <a href="https://github.com/apple/swift-package-manager">Swift Package Manager</a>, <a href="https://github.com/Carthage/Carthage">Carthage</a> and <a href="https://github.com/CocoaPods/CocoaPods">CocoaPods</a>.</p>
<a href='#swift-package-manager' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='swift-package-manager'>Swift Package Manager</h3>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">PackageDescription</span>

<span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"YourPackage"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="kt">Package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/vknabel/EasyInject.git"</span><span class="p">,</span> <span class="nv">majorVersion</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre>
<a href='#carthage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='carthage'>Carthage</h3>
<pre class="highlight ruby"><code><span class="n">github</span> <span class="s2">"vknabel/EasyInject"</span> <span class="o">~&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
</code></pre>
<a href='#cocoapods' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='cocoapods'>CocoaPods</h3>
<pre class="highlight ruby"><code><span class="n">source</span> <span class="s1">'https://github.com/CocoaPods/Specs.git'</span>
<span class="n">use_frameworks!</span>

<span class="n">pod</span> <span class="s1">'EasyInject'</span><span class="p">,</span> <span class="s1">'~&gt; 1.0'</span>
</code></pre>
<a href='#introduction' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='introduction'>Introduction</h2>

<p>In order to inject your dependencies, you first need to prepare your key by implementing <code>Hashable</code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">EasyInject</span>

<span class="kd">enum</span> <span class="kt">ServicesKeyType</span> <span class="p">{</span> <span class="p">}</span> <span class="c1">// will never be instantiated</span>
<span class="kd">typealias</span> <span class="kt">Services</span> <span class="o">=</span> <span class="kt">GenericProvidableKey</span><span class="o">&lt;</span><span class="kt">Services</span><span class="o">&gt;</span>
</code></pre>

<p>Now we need to define our keys, by setting up <code>Provider</code>s with <code>String</code>s and our type hints.</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Provider</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">baseUrl</span><span class="p">:</span> <span class="kt">Provider</span><span class="o">&lt;</span><span class="kt">Services</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">Provider</span><span class="o">&lt;</span><span class="kt">Services</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="s">"baseUrl"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">networkService</span><span class="p">:</span> <span class="kt">Provider</span><span class="o">&lt;</span><span class="kt">Services</span><span class="p">,</span> <span class="kt">NetworkService</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="c1">// produces a key of `networkService(...) -&gt; Network`.</span>
        <span class="k">return</span> <span class="o">.</span><span class="nf">derive</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">dataManager</span><span class="p">:</span> <span class="kt">Provider</span><span class="o">&lt;</span><span class="kt">Services</span><span class="p">,</span> <span class="kt">DataManager</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">.</span><span class="nf">derive</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">NetworkService</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">baseUrl</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">init</span><span class="o">&lt;</span><span class="kt">I</span><span class="p">:</span> <span class="kt">Injector</span> <span class="k">where</span> <span class="kt">I</span><span class="o">.</span><span class="kt">Key</span> <span class="o">==</span> <span class="kt">Services</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">injector</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">I</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Start: NetworkService"</span><span class="p">)</span>
        <span class="n">baseUrl</span> <span class="o">=</span> <span class="k">try</span> <span class="n">injector</span><span class="o">.</span><span class="nf">resolving</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Finish: NetworkService"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">final</span> <span class="kd">class</span> <span class="kt">DataManager</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">networkService</span><span class="p">:</span> <span class="kt">NetworkService</span>
    <span class="kd">init</span><span class="o">&lt;</span><span class="kt">I</span><span class="p">:</span> <span class="kt">Injector</span> <span class="k">where</span> <span class="kt">I</span><span class="o">.</span><span class="kt">Key</span> <span class="o">==</span> <span class="kt">Services</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">injector</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">I</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Start: DataManager"</span><span class="p">)</span>
        <span class="n">networkService</span> <span class="o">=</span> <span class="k">try</span> <span class="n">injector</span><span class="o">.</span><span class="nf">resolving</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">networkService</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Finish: DataManager"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<a href='#lazyinjector' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='lazyinjector'>LazyInjector</h3>

<p>There are some <code>Injector</code>s to choose, like a <code>StrictInjector</code> or <code>LazyInjector</code>.
Let&rsquo;s pick the lazy one first and provide some values for our keys.</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">lazyInjector</span> <span class="o">=</span> <span class="kt">LazyInjector</span><span class="o">&lt;</span><span class="kt">Services</span><span class="o">&gt;</span><span class="p">()</span> <span class="c1">// Only Services keys will fit in here</span>
<span class="n">lazyInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Return: BasUrl"</span><span class="p">)</span>
    <span class="k">return</span> <span class="s">"https://my.base.url/"</span>
<span class="p">})</span>
<span class="n">lazyInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">dataManager</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="kt">DataManager</span><span class="o">.</span><span class="kd">init</span><span class="p">)</span>
<span class="n">lazyInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">networkService</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="kt">NetworkService</span><span class="o">.</span><span class="kd">init</span><span class="p">)</span>
</code></pre>

<p>Since we are using the <code>LazyInjector</code>, no closure we passed has been executed yet.
They will only be executed when they get resolved.</p>
<pre class="highlight swift"><code><span class="c1">// this will execute all factories we passed for our providers</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="n">lazyInjector</span><span class="o">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">dataManager</span><span class="p">)</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Error: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Because we picked <code>LazyInjector</code>, all dependencies will be resolved automatically, when needed. Therefore the produced output would be:
<code>
Start: DataManager
Start: NetworkService
Return: BasUrl
Finish: NetworkService
Finish: DataManager
</code></p>

<p>So because of the laziness of out <code>LazyInjector</code>, all dependencies will be resolved automatically.
Cyclic dependencies throw an error on being resolved to prevent endless recursions.</p>
<a href='#strictinjector' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='strictinjector'>StrictInjector</h3>

<p>The previous example would fail when using <code>StrictInjector</code>, because we provided <code>.dataManager</code> before providing <code>.networkService</code>, but <code>DataManager</code> requires a <code>.networkService</code>.</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">strictInjector</span> <span class="o">=</span> <span class="kt">StrictInjector</span><span class="o">&lt;</span><span class="kt">Services</span><span class="o">&gt;</span><span class="p">()</span>
<span class="n">strictInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Return: BaseUrl"</span><span class="p">)</span>
    <span class="k">return</span> <span class="s">"https://my.base.url/"</span>
<span class="p">})</span>
<span class="n">strictInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">dataManager</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="kt">DataManager</span><span class="o">.</span><span class="kd">init</span><span class="p">)</span> <span class="c1">// &lt;-- missing .networkService</span>
<span class="n">strictInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">networkService</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="kt">NetworkService</span><span class="o">.</span><span class="kd">init</span><span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="n">strictInjector</span><span class="o">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">dataManager</span><span class="p">)</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Error: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>The output would be:
<code>
Return: BaseUrl
Start: DataManager
Start: NetworkService
Finish: NetworkService
Error: keyNotProvided(&quot;networkService(...) -&gt; NetworkService&quot;)
</code></p>

<p>This behavior may be helpful when debugging your <code>LazyInjector</code> in order to detect dependency cycles.</p>

<p>You may fix this error, just by flipping the lines with <code>.networkService</code> and <code>.dataManager</code>, and that would lead to the following output:
<code>
Return: BaseUrl
Start: NetworkService
Finish: NetworkService
Start: DataManager
Finish: DataManager
</code></p>
<pre class="highlight swift"><code><span class="n">strictInjector</span> <span class="o">=</span> <span class="kt">StrictInjector</span><span class="o">&lt;</span><span class="kt">Services</span><span class="o">&gt;</span><span class="p">()</span>
<span class="n">strictInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Return: BaseUrl"</span><span class="p">)</span>
    <span class="k">return</span> <span class="s">"https://my.base.url/"</span>
<span class="p">})</span>
<span class="n">strictInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">networkService</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="kt">NetworkService</span><span class="o">.</span><span class="kd">init</span><span class="p">)</span>
<span class="n">strictInjector</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">dataManager</span><span class="p">,</span> <span class="nv">usingFactory</span><span class="p">:</span> <span class="kt">DataManager</span><span class="o">.</span><span class="kd">init</span><span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="n">strictInjector</span><span class="o">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">dataManager</span><span class="p">)</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Error: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<a href='#globalinjector' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='globalinjector'>GlobalInjector</h3>

<p>A <code>GobalInjector</code> wraps another <code>Injector</code> in order to make it act like a class.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">globalInjector</span> <span class="o">=</span> <span class="kt">GlobalInjector</span><span class="p">(</span><span class="nv">injector</span><span class="p">:</span> <span class="n">strictInjector</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">second</span> <span class="o">=</span> <span class="n">globalInjector</span>
<span class="c1">// `globalInjector` may be mutated as it is a class.</span>
<span class="n">second</span><span class="o">.</span><span class="nf">provide</span><span class="p">(</span><span class="s">"https://vknabel.github.io/EasyInject"</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">)</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">left</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">globalInjector</span><span class="o">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">),</span>
<span class="k">let</span> <span class="nv">right</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">globalInjector</span><span class="o">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">),</span>
<span class="k">left</span> <span class="o">==</span> <span class="k">right</span> <span class="p">{</span>
    <span class="c1">// both `right` and `left` contain `"https://vknabel.github.io/EasyInject"` for `.baseUrl` due to reference semantics</span>
<span class="p">}</span>
</code></pre>
<a href='#composedinjector' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='composedinjector'>ComposedInjector</h3>

<p>A <code>ComposedInjector</code> consists of two other <code>Injector</code>s.
The call <code>.resolve(from:)</code> will target the <code>.left</code> <code>Injector</code> and on failure, the <code>.right</code> one.
<code>.provide(for:,usingFactory:)</code> defaults to <code>.provideLeft(for:,usingFactory:)</code> which will provide the factory only to the <code>.left</code> one.</p>

<p>Usually the left <code>Injector</code> will be the local one, whereas the right one is a global one. This makes it possible to cascade <code>ComposedInjector</code>s from your root controller down to your leaf controllers.</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">composedInjector</span> <span class="o">=</span> <span class="kt">ComposedInjector</span><span class="p">(</span><span class="nv">left</span><span class="p">:</span> <span class="kt">StrictInjector</span><span class="p">(),</span> <span class="nv">right</span><span class="p">:</span> <span class="n">globalInjector</span><span class="p">)</span>
<span class="n">composedInjector</span><span class="o">.</span><span class="nf">provideLeft</span><span class="p">(</span><span class="s">"https://vknabel.github.io/EasyInject/Structs/ComposedInjector.html"</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="n">composedInjector</span><span class="o">.</span><span class="nf">resolveBoth</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">baseUrl</span><span class="p">)</span>
    <span class="c1">// returns `("https://vknabel.github.io/EasyInject/Structs/ComposedInjector.html", "https://vknabel.github.io/EasyInject")`</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Error: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<a href='#author' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='author'>Author</h2>

<p>Valentin Knabel, <a href="mailto:develop@vknabel.com">develop@vknabel.com</a></p>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='license'>License</h2>

<p>EasyInject is available under the MIT license. See the LICENSE file for more info.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2016 <a class="link" href="https://twitter.com/vknabel" target="_blank" rel="external">Valentin Knabel</a>. All rights reserved. (Last updated: 2016-10-24)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
